<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container result-container">

    <h2>Quiz Results</h2>
    <p class="subtitle">Here is your performance summary</p>

    
    <div class="score-box">
        <h1 id="score-display">0%</h1>
        <p id="score-text"></p>
    </div>

    <div class="divider"></div>

   
    <h3 class="review-title">Answer Review</h3>
    <div id="review-container" class="review-container"></div>

    <button class="btn btn-primary"
            onclick="window.location.href='home.html'">
        Back to Dashboard
    </button>

</div>

<script>
const resultData = JSON.parse(localStorage.getItem('quiz_last_result'));

if (resultData) {
    const percent = Math.round((resultData.score / resultData.total) * 100);

    document.getElementById('score-display').innerText = percent + "%";
    document.getElementById('score-text').innerText =
        `You scored ${resultData.score} out of ${resultData.total}`;

    const container = document.getElementById('review-container');

    resultData.details.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'review-item';

        div.innerHTML = `
            <strong>Q${index + 1}. ${item.question}</strong>
            <p>
                Your Answer:
                <span class="${item.isCorrect ? 'correct' : 'wrong'}">
                    ${item.yourAnswer}
                </span>
            </p>
            ${!item.isCorrect ? `
                <p class="correct">
                    Correct Answer: ${item.correctAnswer}
                </p>` : ''}
        `;

        container.appendChild(div);
    });
}
</script>

</body>
</html>
